<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RStudio Workspace Management Test Results</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            padding: 40px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
            padding-bottom: 20px;
            border-bottom: 3px solid #667eea;
        }

        .header h1 {
            color: #667eea;
            font-size: 2.8em;
            margin-bottom: 10px;
            font-weight: 300;
        }

        .header .subtitle {
            color: #666;
            font-size: 1.2em;
            font-style: italic;
        }

        .test-summary {
            background: linear-gradient(135deg, #e8f5e8 0%, #c8e6c9 100%);
            border-left: 4px solid #4caf50;
            padding: 25px;
            border-radius: 12px;
            margin: 20px 0;
            box-shadow: 0 3px 10px rgba(76, 175, 80, 0.2);
        }

        .test-summary h2 {
            color: #2e7d32;
            margin-bottom: 15px;
        }

        .test-meta {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 10px;
            margin: 15px 0;
        }

        .meta-item {
            background: rgba(255,255,255,0.8);
            padding: 10px;
            border-radius: 8px;
            border-left: 3px solid #4caf50;
        }

        .meta-label {
            font-weight: bold;
            color: #2e7d32;
        }

        .results-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .test-card {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: 12px;
            padding: 20px;
            border-left: 5px solid #28a745;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
        }

        .test-card:hover {
            transform: translateY(-2px);
        }

        .test-header {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
        }

        .test-number {
            background: #28a745;
            color: white;
            border-radius: 50%;
            width: 35px;
            height: 35px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-right: 15px;
        }

        .test-title {
            font-size: 1.2em;
            font-weight: 600;
            color: #333;
        }

        .status-badge {
            background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
            color: white;
            padding: 4px 12px;
            border-radius: 15px;
            font-size: 0.85em;
            font-weight: bold;
            margin-left: auto;
        }

        .status-badge:before {
            content: "✅ ";
        }

        .directory-structure {
            background: #2d3748;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 10px;
            margin: 15px 0;
            font-family: 'Courier New', Monaco, monospace;
            font-size: 0.9em;
            overflow-x: auto;
        }

        .code-block {
            background: #2d3748;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 10px;
            margin: 15px 0;
            font-family: 'Courier New', Monaco, monospace;
            font-size: 0.9em;
            overflow-x: auto;
            box-shadow: inset 0 2px 5px rgba(0,0,0,0.2);
        }

        .data-section {
            background: linear-gradient(135deg, #fff3e0 0%, #ffecb3 100%);
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
            border-left: 4px solid #ff9800;
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 25px 0;
        }

        .feature-card {
            background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
            border-radius: 12px;
            padding: 20px;
            border-left: 4px solid #2196f3;
            box-shadow: 0 3px 10px rgba(33, 150, 243, 0.2);
        }

        .feature-title {
            font-size: 1.1em;
            font-weight: 600;
            color: #1976d2;
            margin-bottom: 10px;
        }

        .feature-title:before {
            content: "✅ ";
            color: #4caf50;
            font-weight: bold;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .stat-card {
            background: linear-gradient(135deg, #f3e5f5 0%, #e1bee7 100%);
            border-radius: 8px;
            padding: 15px;
            text-align: center;
            border-left: 3px solid #9c27b0;
        }

        .stat-number {
            font-size: 1.8em;
            font-weight: bold;
            color: #7b1fa2;
            display: block;
        }

        .stat-label {
            font-size: 0.9em;
            color: #666;
            margin-top: 5px;
        }

        .file-list {
            background: linear-gradient(135deg, #f1f8e9 0%, #dcedc8 100%);
            border-radius: 8px;
            padding: 20px;
            margin: 15px 0;
        }

        .file-list ol {
            padding-left: 20px;
        }

        .file-list li {
            margin: 8px 0;
            font-family: 'Courier New', Monaco, monospace;
            color: #33691e;
            font-weight: 500;
        }

        .recommendations-section {
            background: linear-gradient(135deg, #fff8e1 0%, #ffecb3 100%);
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
            border-left: 4px solid #ffc107;
        }

        .recommendation-card {
            background: rgba(255,255,255,0.8);
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            border-left: 3px solid #ff9800;
        }

        .final-assessment {
            background: linear-gradient(135deg, #4caf50 0%, #45a049 100%);
            color: white;
            padding: 30px;
            border-radius: 12px;
            text-align: center;
            margin: 30px 0;
            box-shadow: 0 5px 15px rgba(76, 175, 80, 0.3);
        }

        .assessment-title {
            font-size: 2em;
            margin-bottom: 15px;
            font-weight: 300;
        }

        .assessment-features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 20px 0;
            text-align: left;
        }

        .assessment-feature {
            background: rgba(255,255,255,0.1);
            padding: 15px;
            border-radius: 8px;
            border-left: 3px solid rgba(255,255,255,0.5);
        }

        .assessment-feature h4 {
            margin-bottom: 8px;
            font-weight: 600;
        }

        .assessment-feature h4:before {
            content: "🎯 ";
        }

        h2 {
            color: #667eea;
            font-size: 1.8em;
            margin: 30px 0 15px 0;
            padding-bottom: 10px;
            border-bottom: 2px solid #667eea;
        }

        h3 {
            color: #333;
            font-size: 1.4em;
            margin: 20px 0 10px 0;
        }

        h4 {
            color: #555;
            font-size: 1.2em;
            margin: 15px 0 8px 0;
            font-weight: 600;
        }

        ul, ol {
            margin: 15px 0;
            padding-left: 30px;
        }

        li {
            margin-bottom: 8px;
        }

        .footer {
            margin-top: 50px;
            padding-top: 20px;
            border-top: 2px solid #667eea;
            text-align: center;
            color: #666;
        }

        @media (max-width: 768px) {
            .container {
                padding: 20px;
                margin: 10px;
            }
            
            .header h1 {
                font-size: 2em;
            }
            
            .results-grid,
            .features-grid,
            .stats-grid,
            .assessment-features {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>RStudio Workspace Management</h1>
            <div class="subtitle">Comprehensive Test Results & Validation</div>
        </div>

        <div class="test-summary">
            <h2>🎯 Test Summary</h2>
            <div class="test-meta">
                <div class="meta-item">
                    <div class="meta-label">Date:</div>
                    <div>August 9, 2025</div>
                </div>
                <div class="meta-item">
                    <div class="meta-label">Container:</div>
                    <div>peterableda/rstudio-cloudera-runtime:2025.05-r4.5.1</div>
                </div>
                <div class="meta-item">
                    <div class="meta-label">Test User:</div>
                    <div>cdsw (with sudo privileges)</div>
                </div>
            </div>
        </div>

        <h2>✅ Test Results Overview</h2>

        <div class="results-grid">
            <div class="test-card">
                <div class="test-header">
                    <div class="test-number">1</div>
                    <div class="test-title">Directory Structure Creation</div>
                    <div class="status-badge">PASSED</div>
                </div>
                <p>Successfully created organized workspace structure:</p>
                <div class="directory-structure">test_workspace/
├── data/           # Raw and processed data
├── scripts/        # R analysis scripts
├── results/        # Output files and objects
├── models/         # Statistical models
├── README.md       # Documentation
└── test_workspace.Rproj  # RStudio Project file</div>
            </div>

            <div class="test-card">
                <div class="test-header">
                    <div class="test-number">2</div>
                    <div class="test-title">R Object Management</div>
                    <div class="status-badge">PASSED</div>
                </div>
                <ul>
                    <li><strong>Object Creation:</strong> Data frames, models, and lists ✅</li>
                    <li><strong>Memory Tracking:</strong> Proper object sizing ✅</li>
                    <li><strong>Workspace Navigation:</strong> setwd(), getwd(), ls() ✅</li>
                </ul>
                <div class="stats-grid">
                    <div class="stat-card">
                        <span class="stat-number">3.1 KB</span>
                        <div class="stat-label">test_data size</div>
                    </div>
                    <div class="stat-card">
                        <span class="stat-number">41.3 KB</span>
                        <div class="stat-label">test_model size</div>
                    </div>
                </div>
            </div>

            <div class="test-card">
                <div class="test-header">
                    <div class="test-number">3</div>
                    <div class="test-title">Data Persistence</div>
                    <div class="status-badge">PASSED</div>
                </div>
                <ul>
                    <li><strong>CSV Export/Import:</strong> write.csv() / read.csv() ✅</li>
                    <li><strong>RDS Format:</strong> saveRDS() / readRDS() ✅</li>
                    <li><strong>RData Format:</strong> save() / load() ✅</li>
                    <li><strong>File Integrity:</strong> All formats maintained data integrity ✅</li>
                </ul>
            </div>

            <div class="test-card">
                <div class="test-header">
                    <div class="test-number">4</div>
                    <div class="test-title">RStudio Project Features</div>
                    <div class="status-badge">PASSED</div>
                </div>
                <ul>
                    <li><strong>Project File:</strong> Valid .Rproj configuration ✅</li>
                    <li><strong>RestoreWorkspace:</strong> No (clean starts) ✅</li>
                    <li><strong>SaveWorkspace:</strong> No (manual control) ✅</li>
                    <li><strong>AlwaysSaveHistory:</strong> Yes (preserved) ✅</li>
                    <li><strong>Script Execution:</strong> Analysis script success ✅</li>
                </ul>
            </div>

            <div class="test-card">
                <div class="test-header">
                    <div class="test-number">5</div>
                    <div class="test-title">Multi-User Workspace Isolation</div>
                    <div class="status-badge">PASSED</div>
                </div>
                <ul>
                    <li><strong>User Separation:</strong> Independent workspaces ✅</li>
                    <li><strong>Access Control:</strong> Expected read permissions ✅</li>
                    <li><strong>No Conflicts:</strong> Independent management ✅</li>
                </ul>
                <div class="code-block">cdsw: /home/cdsw/test_workspace/
dev1: /home/dev1/dev1_workspace/
dev2: /home/dev2/dev2_workspace/</div>
            </div>

            <div class="test-card">
                <div class="test-header">
                    <div class="test-number">6</div>
                    <div class="test-title">Configuration & Settings</div>
                    <div class="status-badge">PASSED</div>
                </div>
                <ul>
                    <li><strong>RStudio Config:</strong> ~/.config/rstudio/ exists ✅</li>
                    <li><strong>Global Preferences:</strong> JSON configuration ✅</li>
                    <li><strong>Library Paths:</strong> Proper R package structure ✅</li>
                </ul>
                <div class="stats-grid">
                    <div class="stat-card">
                        <span class="stat-number">29</span>
                        <div class="stat-label">System packages</div>
                    </div>
                    <div class="stat-card">
                        <span class="stat-number">119</span>
                        <div class="stat-label">Site packages</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="data-section">
            <h2>📊 Detailed Test Data</h2>
            
            <h3>Sample Data Created</h3>
            <div class="code-block">sales_data <- data.frame(
  month = month.name[1:12],
  sales = runif(12, 1000, 5000),
  region = rep(c('North', 'South', 'East', 'West'), 3)
)</div>

            <h3>Analysis Results Generated</h3>
            <div class="code-block">analysis_results <- list(
  total_sales = 33872.21,
  avg_sales = 2822.684,
  max_month = "February"
)</div>

            <h3>Files Successfully Created</h3>
            <div class="file-list">
                <ol>
                    <li>data/sales_data.csv - CSV format data</li>
                    <li>data/sales_data.rds - R binary format data</li>
                    <li>results/workspace_objects.RData - Multiple objects</li>
                    <li>results/analysis_results.rds - Analysis results</li>
                    <li>results/script_results.rds - Script output</li>
                    <li>scripts/analysis.R - Executable R script</li>
                    <li>README.md - Project documentation</li>
                    <li>test_workspace.Rproj - RStudio project configuration</li>
                </ol>
            </div>
        </div>

        <h2>🔧 Workspace Management Features</h2>

        <div class="features-grid">
            <div class="feature-card">
                <div class="feature-title">Working Features</div>
                <ul>
                    <li><strong>Directory Navigation:</strong> setwd(), getwd() functional</li>
                    <li><strong>Object Inspection:</strong> ls(), str(), object.size() working</li>
                    <li><strong>Data I/O:</strong> All major formats operational</li>
                    <li><strong>Project Structure:</strong> RStudio projects supported</li>
                    <li><strong>Session Management:</strong> Clean startup behavior</li>
                    <li><strong>Multi-user Support:</strong> Isolated environments</li>
                    <li><strong>Package Management:</strong> Proper library hierarchy</li>
                </ul>
            </div>

            <div class="feature-card">
                <div class="feature-title">Current Configuration</div>
                <ul>
                    <li><strong>Workspace Restore:</strong> Disabled (clean starts)</li>
                    <li><strong>Workspace Save:</strong> Disabled (manual control)</li>
                    <li><strong>History Save:</strong> Enabled (preserved)</li>
                    <li><strong>User Library:</strong> ~/R/x86_64-pc-linux-gnu-library/4.5/</li>
                    <li><strong>Site Library:</strong> /usr/local/lib/R/site-library/ (119 packages)</li>
                    <li><strong>System Library:</strong> /usr/local/lib/R/library/ (29 packages)</li>
                </ul>
            </div>
        </div>

        <div class="recommendations-section">
            <h2>🚀 Recommendations for Users</h2>

            <div class="recommendation-card">
                <h3>For Regular Users (dev1, dev2)</h3>
                <ul>
                    <li>Create personal project directories</li>
                    <li>Use save() and load() for session persistence</li>
                    <li>Organize work in project-based folders</li>
                    <li>Leverage RStudio's project features</li>
                </ul>
            </div>

            <div class="recommendation-card">
                <h3>For Admin User (cdsw)</h3>
                <ul>
                    <li>Can install system-wide packages for all users</li>
                    <li>Manage shared resources and libraries</li>
                    <li>Set up common project templates</li>
                    <li>Monitor workspace usage and performance</li>
                </ul>
            </div>

            <div class="recommendation-card">
                <h3>Best Practices Workflow</h3>
                <ul>
                    <li><strong>Create Project Structure:</strong> Organized directories for file types</li>
                    <li><strong>Use RStudio Projects:</strong> .Rproj files for management</li>
                    <li><strong>Explicit Data Management:</strong> Save/load objects deliberately</li>
                    <li><strong>Version Control Ready:</strong> Git integration supported</li>
                    <li><strong>Multi-User Friendly:</strong> Independent workspaces per user</li>
                </ul>
            </div>
        </div>

        <h2>🔍 Advanced Features Available</h2>

        <div class="features-grid">
            <div class="feature-card">
                <div class="feature-title">Package Management</div>
                <ul>
                    <li><strong>User-level installation:</strong> Personal library in ~/R/</li>
                    <li><strong>System-wide installation:</strong> Shared library</li>
                    <li><strong>Admin capabilities:</strong> cdsw can install for all users</li>
                </ul>
            </div>

            <div class="feature-card">
                <div class="feature-title">Integration Capabilities</div>
                <ul>
                    <li><strong>Python Integration:</strong> reticulate package configured</li>
                    <li><strong>Git Version Control:</strong> Project-level support</li>
                    <li><strong>LaTeX Support:</strong> Full TeXLive for PDF generation</li>
                    <li><strong>Database Connectivity:</strong> Multiple drivers available</li>
                </ul>
            </div>
        </div>

        <div class="final-assessment">
            <div class="assessment-title">✅ Overall Assessment</div>
            <h2 style="color: white; border: none; margin: 10px 0;">WORKSPACE MANAGEMENT: FULLY FUNCTIONAL 🎉</h2>
            
            <p style="font-size: 1.2em; margin: 20px 0;">The RStudio Server container provides comprehensive workspace management capabilities:</p>
            
            <div class="assessment-features">
                <div class="assessment-feature">
                    <h4>Object Lifecycle Management</h4>
                    <p>Complete object creation, manipulation, and persistence</p>
                </div>
                <div class="assessment-feature">
                    <h4>Multiple Data Persistence</h4>
                    <p>CSV, RDS, RData formats with integrity verification</p>
                </div>
                <div class="assessment-feature">
                    <h4>Project-Based Organization</h4>
                    <p>RStudio projects with proper configuration</p>
                </div>
                <div class="assessment-feature">
                    <h4>Multi-User Isolation</h4>
                    <p>Independent workspace environments per user</p>
                </div>
                <div class="assessment-feature">
                    <h4>Configurable Session Behavior</h4>
                    <p>Clean startup with manual persistence control</p>
                </div>
                <div class="assessment-feature">
                    <h4>Industry-Standard Ecosystem</h4>
                    <p>148 total R packages with comprehensive coverage</p>
                </div>
            </div>
            
            <p style="font-size: 1.1em; margin-top: 20px;"><strong>Perfect foundation for collaborative data science environments with emphasis on reproducibility and clean session management! 🚀</strong></p>
        </div>

        <div class="footer">
            <p><strong>RStudio Workspace Management Test Results</strong></p>
            <p>Comprehensive Validation | Multi-User Support | Professional Data Science Environment</p>
        </div>
    </div>
</body>
</html>
